{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default getPictures;\n\n    function getPictures(query) {\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"47437973-d70be85f5be71cfd9f8f29695\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    \n    return fetch(`${BASE_URL}?${params}`)\n       .then(response => {\n            if(!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json();\n       })\n};\n\nconsole.log(getPictures());","\nexport default reflectionPictures;\n\n function reflectionPictures(pictures) {\n    return pictures.map(\n        ({ webformatURL, largeImageURL, tags,\n            likes, views, comments, downloads }) => `\n   <a class=\"gallery-item\" href=\"${largeImageURL}\">\n   <div class=all-gallary>\n   <img src=\"${webformatURL}\" alt=\"${tags}\">\n   <div class=\"description\">\n   <p>Likes: <span>\"${likes}\"</span></p>\n   <p>Views: <span>\"${views}\"</span></p>\n   <p>Comments: <span>\"${comments}\"</span></p>\n   <p>Downloads: <span>\"${downloads}\"</span></p>\n   </div>\n   </div>\n   </a>\n    `).join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport \"./js/pixabay-api.js\";\nimport getPictures from \"./js/pixabay-api.js\"\n\nimport \"./js/render-functions.js\";\nimport reflectionPictures from \"./js/render-functions.js\";\n\n\n\nconst formSearch = document.querySelector(\".form-search\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\nlet lightbox = new SimpleLightbox(\".gallery-item\", {\n  captions: true,\n  captionSelector: \"img\",\n  captionType: \"attr\",\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\n\nformSearch.addEventListener(\"submit\", handlerSearch);\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n\n    gallery.innerHTML = \"\";\n    loader.style.display = \"block\";\n\n    const inputValue = event.target.elements.query.value.trim();\n\n     if (inputValue === \"\") {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search query!\",\n      position: \"topRight\",\n    });\n    return;\n     }\n    \n      gallery.innerHTML = \"\";\n    loader.style.display = \"block\";\n    \n    getPictures(inputValue) \n        .then(data => {\n            if (data.hits.length === 0) { \n                iziToast.info({\n                    title: \"No Results\",\n                  message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n                return;\n            }\n            const markup = reflectionPictures(data.hits);\n      gallery.innerHTML = markup;\n\n      lightbox.refresh();\n        })\n        \n     .catch(error => {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Something went wrong. Please try again later!\",\n         position: \"topRight\",\n      });\n    })\n    .finally(() => {\n      loader.style.display = \"none\";\n  event.target.reset()\n    });\n    \n}\n"],"names":["getPictures","query","BASE_URL","API_KEY","params","response","reflectionPictures","pictures","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formSearch","gallery","loader","lightbox","SimpleLightbox","handlerSearch","event","inputValue","iziToast","data","markup","error"],"mappings":"6vBAEI,SAASA,EAAYC,EAAO,CAEhC,MAAMC,EAAW,2BACXC,EAAU,qCAENC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGD,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAChC,KAAKC,GAAY,CACb,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAQ,CACR,CAEA,QAAQ,IAAIL,GAAa,ECtBxB,SAASM,EAAmBC,EAAU,CACnC,OAAOA,EAAS,IACZ,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAC5B,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,mCACjBL,CAAa;AAAA;AAAA,eAEjCD,CAAY,UAAUE,CAAI;AAAA;AAAA,sBAEnBC,CAAK;AAAA,sBACLC,CAAK;AAAA,yBACFC,CAAQ;AAAA,0BACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI9B,EAAE,KAAK,EAAE,CACd,CCNA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/C,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,GAChB,CAAC,EAGDJ,EAAW,iBAAiB,SAAUK,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEpBL,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvB,MAAMK,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEpD,GAAIC,IAAe,GAAI,CACxBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACE,CAEAP,EAAQ,UAAY,GACtBC,EAAO,MAAM,QAAU,QAEvBjB,EAAYsB,CAAU,EACjB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,MAAO,aACT,QAAS,2EACP,SAAU,UAC9B,CAAiB,EACD,MACH,CACD,MAAME,EAASnB,EAAmBkB,EAAK,IAAI,EACjDR,EAAQ,UAAYS,EAEpBP,EAAS,QAAO,CACtB,CAAS,EAEH,MAAMQ,GAAS,CACfH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACR,SAAU,UACnB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,EAAO,MAAM,QAAU,OAC3BI,EAAM,OAAO,MAAO,CACtB,CAAK,CAEL"}