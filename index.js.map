{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import { gallery } from \"../main\"\n\nexport default function showGallery(data) {\n  const markup = data.hits\n    .map((item) => {\n      const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = item;\n      return `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n          </a>\n          <div>\n            <p><b>Likes </b>${likes}</p>\n            <p><b>Views </b>${views}</p>\n            <p><b>Comments </b>${comments}</p>\n            <p><b>Downloads </b>${downloads}</p>\n          </div>\n        </li>\n      `;\n    })\n    .join(\"\");\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport showGallery from \"./render-functions\"\nimport { hideLoader } from \"../main\"\n\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionSelector: \"img\",\n  captionDelay: 250,\n};\n\n\nexport default function searchImages(userSearch) {\n  const apiKey = \"47437973-d70be85f5be71cfd9f8f29695\";\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${userSearch}&image_type=photo`\n  return fetch(url)\n    .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n    })\n    .then((data) => {\n      if (data.hits.length === 0) {\n        hideLoader();\n        iziToast.error({\n          position: 'topRight',\n          color: 'red',\n          message: `Sorry, there are no images matching<br>your search query. Please try again!`,\n        });\n      } else {        \n      showGallery(data);\n      hideLoader();\n      const lightbox = new SimpleLightbox('.gallery a', options);\n      lightbox.refresh();\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error fetching data:\", error);\n    });\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport searchImages from \"./js/pixabay-api\"\nimport showGallery from \"./js/render-functions\"\n\n\nconst textInput = document.querySelector(\"#form\");\nconst button = document.querySelector(\".button\");\nconst gallery = document.querySelector(\".gallery\");\nconst block = document.querySelector(\".block\");\n\nexport { gallery };\ntextInput.addEventListener(\"submit\", handleSubmit);\n\n\n// Function to show the loader\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  loader.textContent = \"Loading images, please wait...\";\n  block.append(loader);\n};\n\n// Function to hide the loader\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nexport { hideLoader };\n\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const userSearch = textInput.elements.query.value.trim();\n\n  if (userSearch === \"\") {\n    iziToast.error({\n      position: 'topRight',\n      overlay: false,\n        color: 'red', // blue, red, green, yellow\n        message: \"Sorry, there are no images matching<br>your search query. Please try again!\",\n      });\n  } else {\n    showLoader();\n    searchImages(userSearch);\n    }; \n  textInput.reset();\n  removeGallery();\n};\n\n\nfunction removeGallery() {\n  gallery.innerHTML = '';\n};"],"names":["showGallery","data","markup","item","largeImageURL","webformatURL","tags","likes","views","comments","downloads","gallery","options","searchImages","userSearch","url","response","hideLoader","iziToast","SimpleLightbox","error","textInput","block","handleSubmit","showLoader","loader","e","removeGallery"],"mappings":"6vBAEe,SAASA,EAAYC,EAAM,CACxC,MAAMC,EAASD,EAAK,KACjB,IAAKE,GAAS,CACb,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,0CAE6BC,CAAa;AAAA,4CACXC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,8BAGxCC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,OAI3C,CAAK,EACA,KAAK,EAAE,EACVC,EAAQ,mBAAmB,YAAaT,CAAM,CAChD,CCdA,MAAMU,EAAU,CACd,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,gBAAiB,MACjB,aAAc,GAChB,EAGe,SAASC,EAAaC,EAAY,CAE/C,MAAMC,EAAM,qEAA4CD,CAAU,oBAClE,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAK,EACA,KAAMf,GAAS,CACVA,EAAK,KAAK,SAAW,GACvBgB,IACAC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,MACP,QAAS,6EACnB,CAAS,IAEHlB,EAAYC,CAAI,EAChBgB,IACiB,IAAIE,EAAe,aAAcP,CAAO,EAChD,QAAO,EAEtB,CAAK,EACA,MAAOQ,GAAU,CAChB,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,CACL,CCvCA,MAAMC,EAAY,SAAS,cAAc,OAAO,EACjC,SAAS,cAAc,SAAS,EAC/C,MAAMV,EAAU,SAAS,cAAc,UAAU,EAC3CW,EAAQ,SAAS,cAAc,QAAQ,EAG7CD,EAAU,iBAAiB,SAAUE,CAAY,EAIjD,MAAMC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,iCACrBH,EAAM,OAAOG,CAAM,CACrB,EAGMR,EAAa,IAAM,CACvB,MAAMQ,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAKA,SAASF,EAAaG,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMZ,EAAaO,EAAU,SAAS,MAAM,MAAM,OAE9CP,IAAe,GACjBI,EAAS,MAAM,CACb,SAAU,WACV,QAAS,GACP,MAAO,MACP,QAAS,6EACjB,CAAO,GAEHM,IACAX,EAAaC,CAAU,GAEzBO,EAAU,QACVM,GACF,CAGA,SAASA,GAAgB,CACvBhB,EAAQ,UAAY,EACtB"}